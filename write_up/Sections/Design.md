# Design

## High Level System Design

Briefly, my goal for the system is to be able to create transactions, and digitally sign / verify them. Then, the system should be able to simplify chains of debt among people.

The notion of signing and verifying means that the project will require a sizeable cryptography aspect, especially as is my intention to write the RSA encryption / decryption myself.

I will also need a mechanism with which to be able to simplify large groups of debt. As discussed in the analysis section, this will be done through the use of flow graphs. 

Next comes the transactions themselves. Only at the transaction level should the concepts of cryptography or the graph processing start being used.

Finally, I will assemble everything together at the server level, although the simplification module should never need to be directly used. The cryptography module will require light use for the hashing of passwords.

To store these transactions, along with user data and supporting infrastructure, a fairly complex database system will be employed.

As a diagram

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="479px" viewBox="-0.5 -0.5 479 542" content="&lt;mxfile host=&quot;drawio-plugin&quot; modified=&quot;2022-03-22T21:24:41.173Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36&quot; etag=&quot;g3TzcJRzdE9C8VVL_tm1&quot; version=&quot;15.5.4&quot; type=&quot;embed&quot;&gt;&lt;diagram id=&quot;23iRSUPoRavnBvh4doch&quot; name=&quot;Page-1&quot;&gt;&lt;mxGraphModel dx=&quot;1652&quot; dy=&quot;693&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;827&quot; pageHeight=&quot;1169&quot; background=&quot;#F1FAEE&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&lt;root&gt;&lt;mxCell id=&quot;0&quot;/&gt;&lt;mxCell id=&quot;1&quot; parent=&quot;0&quot;/&gt;&lt;mxCell id=&quot;38&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#457B9D;fontColor=#1D3557;labelBackgroundColor=#F1FAEE;curved=1;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;14&quot; target=&quot;36&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;14&quot; value=&quot;Database&quot; style=&quot;strokeWidth=2;html=1;shape=mxgraph.flowchart.database;whiteSpace=wrap;fillColor=#A8DADC;strokeColor=#457B9D;fontColor=#1D3557;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;650&quot; y=&quot;440&quot; width=&quot;60&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;23&quot; value=&quot;&quot; style=&quot;group;fontColor=#1D3557;&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;240&quot; y=&quot;280&quot; width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;21&quot; value=&quot;&quot; style=&quot;verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.diag_round_rect;dx=6;fillColor=#A8DADC;strokeColor=#457B9D;fontColor=#1D3557;&quot; vertex=&quot;1&quot; parent=&quot;23&quot;&gt;&lt;mxGeometry width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;22&quot; value=&quot;Cryptography&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#1D3557;&quot; vertex=&quot;1&quot; parent=&quot;23&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;15&quot; width=&quot;60&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;24&quot; value=&quot;&quot; style=&quot;group;fontColor=#1D3557;&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;440&quot; y=&quot;280&quot; width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;25&quot; value=&quot;&quot; style=&quot;verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.diag_round_rect;dx=6;fillColor=#A8DADC;strokeColor=#457B9D;fontColor=#1D3557;&quot; vertex=&quot;1&quot; parent=&quot;24&quot;&gt;&lt;mxGeometry width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;26&quot; value=&quot;Simplify&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#1D3557;&quot; vertex=&quot;1&quot; parent=&quot;24&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;15&quot; width=&quot;60&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;27&quot; value=&quot;&quot; style=&quot;group;fontColor=#1D3557;&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;340&quot; y=&quot;390&quot; width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;28&quot; value=&quot;&quot; style=&quot;verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.diag_round_rect;dx=6;fillColor=#A8DADC;strokeColor=#457B9D;fontColor=#1D3557;&quot; vertex=&quot;1&quot; parent=&quot;27&quot;&gt;&lt;mxGeometry width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;29&quot; value=&quot;Transactions&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#1D3557;&quot; vertex=&quot;1&quot; parent=&quot;27&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;15&quot; width=&quot;60&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;32&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#457B9D;fontColor=#1D3557;labelBackgroundColor=#F1FAEE;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;21&quot; target=&quot;28&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;290&quot; y=&quot;360&quot;/&gt;&lt;mxPoint x=&quot;390&quot; y=&quot;360&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;33&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#457B9D;fontColor=#1D3557;labelBackgroundColor=#F1FAEE;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;26&quot; target=&quot;28&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;490&quot; y=&quot;360&quot;/&gt;&lt;mxPoint x=&quot;390&quot; y=&quot;360&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;34&quot; value=&quot;&quot; style=&quot;group;fontColor=#1D3557;&quot; vertex=&quot;1&quot; connectable=&quot;0&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;340&quot; y=&quot;500&quot; width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;35&quot; value=&quot;&quot; style=&quot;verticalLabelPosition=bottom;verticalAlign=top;html=1;shape=mxgraph.basic.diag_round_rect;dx=6;fillColor=#A8DADC;strokeColor=#457B9D;fontColor=#1D3557;&quot; vertex=&quot;1&quot; parent=&quot;34&quot;&gt;&lt;mxGeometry width=&quot;100&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;36&quot; value=&quot;Server&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#1D3557;&quot; vertex=&quot;1&quot; parent=&quot;34&quot;&gt;&lt;mxGeometry x=&quot;20&quot; y=&quot;15&quot; width=&quot;60&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;37&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;strokeColor=#457B9D;fontColor=#1D3557;labelBackgroundColor=#F1FAEE;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;28&quot; target=&quot;35&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;39&quot; value=&quot;User&quot; style=&quot;shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;fillColor=#A8DADC;strokeColor=#457B9D;fontColor=#1D3557;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;375&quot; y=&quot;740&quot; width=&quot;30&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;40&quot; value=&quot;&quot; style=&quot;endArrow=none;dashed=1;html=1;rounded=1;sketch=0;fontColor=#1D3557;strokeColor=#457B9D;fillColor=#A8DADC;labelBackgroundColor=#F1FAEE;&quot; edge=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry width=&quot;50&quot; height=&quot;50&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;240&quot; y=&quot;600&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;560&quot; y=&quot;600&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;42&quot; value=&quot;&quot; style=&quot;html=1;shadow=0;dashed=0;align=center;verticalAlign=middle;shape=mxgraph.arrows2.twoWayArrow;dy=0.65;dx=22;rounded=0;sketch=0;fontColor=#1D3557;strokeColor=#457B9D;fillColor=#A8DADC;rotation=90;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;348.75&quot; y=&quot;596.25&quot; width=&quot;95&quot; height=&quot;32.5&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;43&quot; value=&quot;API&quot; style=&quot;text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;sketch=0;fontColor=#1D3557;rotation=90;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;366.25&quot; y=&quot;600&quot; width=&quot;60&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;44&quot; value=&quot;Client&quot; style=&quot;rounded=1;whiteSpace=wrap;html=1;sketch=0;fontColor=#1D3557;strokeColor=#457B9D;fillColor=#A8DADC;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;340&quot; y=&quot;660&quot; width=&quot;120&quot; height=&quot;60&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;45&quot; style=&quot;edgeStyle=orthogonalEdgeStyle;rounded=1;sketch=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=1;exitDx=0;exitDy=0;exitPerimeter=0;entryX=-0.002;entryY=0.077;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#1D3557;strokeColor=#457B9D;fillColor=#A8DADC;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;21&quot; target=&quot;35&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://viewer.diagrams.net/?client=1&amp;page=0&amp;edit=_blank');}}})(this);" style="cursor:pointer;max-width:100%;max-height:542px;"><defs/><g><path d="M 417 190.06 Q 302.06 190.06 302.06 220.06 Q 302.06 250.06 193.37 250" fill="none" stroke="#457b9d" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 188.12 250 L 195.12 246.5 L 193.37 250 L 195.12 253.5 Z" fill="#457b9d" stroke="#457b9d" stroke-miterlimit="10" pointer-events="all"/><path d="M 417 210 L 417 170 C 417 164.48 430.43 160 447 160 C 463.57 160 477 164.48 477 170 L 477 210 C 477 215.52 463.57 220 447 220 C 430.43 220 417 215.52 417 210 Z" fill="#a8dadc" stroke="#457b9d" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><path d="M 417 170 C 417 175.52 430.43 180 447 180 C 463.57 180 477 175.52 477 170" fill="none" stroke="#457b9d" stroke-width="2" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 190px; margin-left: 418px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(29, 53, 87); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Database</div></div></div></foreignObject><text x="447" y="194" fill="#1D3557" font-family="Helvetica" font-size="12px" text-anchor="middle">Database</text></switch></g><path d="M 19 0 L 107 0 L 107 48 C 107 54.63 101.63 60 95 60 L 7 60 L 7 12 C 7 5.37 12.37 0 19 0 Z" fill="#a8dadc" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 30px; margin-left: 28px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(29, 53, 87); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Cryptography</div></div></div></foreignObject><text x="57" y="34" fill="#1D3557" font-family="Helvetica" font-size="12px" text-anchor="middle">Cryptograp...</text></switch></g><path d="M 219 0 L 307 0 L 307 48 C 307 54.63 301.63 60 295 60 L 207 60 L 207 12 C 207 5.37 212.37 0 219 0 Z" fill="#a8dadc" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 30px; margin-left: 228px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(29, 53, 87); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Simplify</div></div></div></foreignObject><text x="257" y="34" fill="#1D3557" font-family="Helvetica" font-size="12px" text-anchor="middle">Simplify</text></switch></g><path d="M 119 110 L 207 110 L 207 158 C 207 164.63 201.63 170 195 170 L 107 170 L 107 122 C 107 115.37 112.37 110 119 110 Z" fill="#a8dadc" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 140px; margin-left: 128px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(29, 53, 87); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Transactions</div></div></div></foreignObject><text x="157" y="144" fill="#1D3557" font-family="Helvetica" font-size="12px" text-anchor="middle">Transactio...</text></switch></g><path d="M 57 60 L 57 80.06 L 157 80.06 L 157 103.63" fill="none" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><path d="M 157 108.88 L 153.5 101.88 L 157 103.63 L 160.5 101.88 Z" fill="#457b9d" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><path d="M 257 45 L 257 80.06 L 157 80.06 L 157 103.63" fill="none" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><path d="M 157 108.88 L 153.5 101.88 L 157 103.63 L 160.5 101.88 Z" fill="#457b9d" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><path d="M 119 220 L 207 220 L 207 268 C 207 274.63 201.63 280 195 280 L 107 280 L 107 232 C 107 225.37 112.37 220 119 220 Z" fill="#a8dadc" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 250px; margin-left: 128px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(29, 53, 87); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Server</div></div></div></foreignObject><text x="157" y="254" fill="#1D3557" font-family="Helvetica" font-size="12px" text-anchor="middle">Server</text></switch></g><path d="M 157 170 L 157 213.63" fill="none" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><path d="M 157 218.88 L 153.5 211.88 L 157 213.63 L 160.5 211.88 Z" fill="#457b9d" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><ellipse cx="157" cy="467.5" rx="7.5" ry="7.5" fill="#a8dadc" stroke="#457b9d" pointer-events="none"/><path d="M 157 475 L 157 500 M 157 480 L 142 480 M 157 480 L 172 480 M 157 500 L 142 520 M 157 500 L 172 520" fill="none" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 527px; margin-left: 157px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(29, 53, 87); line-height: 1.2; pointer-events: none; white-space: nowrap;">User</div></div></div></foreignObject><text x="157" y="539" fill="#1D3557" font-family="Helvetica" font-size="12px" text-anchor="middle">User</text></switch></g><path d="M 7 320 L 327 320" fill="none" stroke="#457b9d" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 137.75 326.81 L 188.75 326.81 L 188.75 316.25 L 210.75 332.5 L 188.75 348.75 L 188.75 338.19 L 137.75 338.19 L 137.75 348.75 L 115.75 332.5 L 137.75 316.25 Z" fill="#a8dadc" stroke="#457b9d" stroke-miterlimit="10" transform="rotate(90,163.25,332.5)" pointer-events="none"/><g transform="translate(-0.5 -0.5)rotate(90 163.25 335)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 335px; margin-left: 134px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(29, 53, 87); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">API</div></div></div></foreignObject><text x="163" y="339" fill="#1D3557" font-family="Helvetica" font-size="12px" text-anchor="middle">API</text></switch></g><rect x="107" y="380" width="120" height="60" rx="9" ry="9" fill="#a8dadc" stroke="#457b9d" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 410px; margin-left: 108px;"><div style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(29, 53, 87); line-height: 1.2; pointer-events: none; white-space: normal; overflow-wrap: normal;">Client</div></div></div></foreignObject><text x="167" y="414" fill="#1D3557" font-family="Helvetica" font-size="12px" text-anchor="middle">Client</text></switch></g><path d="M 7 60 L 7 214.65 Q 7 224.65 17 224.64 L 100.43 224.62" fill="none" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/><path d="M 105.68 224.62 L 98.68 228.12 L 100.43 224.62 L 98.68 221.12 Z" fill="#457b9d" stroke="#457b9d" stroke-miterlimit="10" pointer-events="none"/></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>



Note: the client needs a way to generate hashes of passwords. I intend to use the cryptography module that I will write. This is not necessary however, as any SHA3_256 hash will be sufficient.

On a high level, the system is decomposed into 5 separate modules, each accounting for a main component of the system. These are `crypto`, `simplify`, `transactions`, `client` and `server`.  Three of these modules,  `crypto`, `simplify`, and `transactions` will all have a folder of unit tests associated with them. 

The modules in the final design should be as decoupled as possible. `crypto`  and `simplify` should not have any dependencies on any other modules (as will become apparent in class diagrams below)

### Expected File Structure

```
.  
├── README.md  
├── requirements.txt  
├── settle_db.sqlite  
├── setup.py  
├── src  
│   ├── client  
│   │   ├── client.py  
│   │   ├── cli_helpers.py  
│   │   ├── cli.py  
│   │   └── __init__.py  
│   ├── crypto  
│   │   ├── hashes.py  
│   │   ├── __init__.py  
│   │   ├── keys.py  
│   │   ├── rsa.py  
│   │   └── sample_keys  
│   │       ├── d_private-key.pem  
│   │       ├── d_public-key.pe  
│   │       ├── m_private-key.pem  
│   │       ├── m_public-key.pe  
│   │       ├── t_private-key.pem  
│   │       └── t_public-key.pe  
│   ├── __init__.py  
│   ├── server  
│   │   ├── endpoint.py  
│   │   ├── __init__.py  
│   │   ├── log  
│   │   ├── models.py  
│   │   ├── processes.py  
│   │   ├── resources.py  
│   │   ├── schemas.py  
│   │   └── setup.py  
│   ├── simplify  
│   │   ├── base_graph.py  
│   │   ├── flow_algorithms.py  
│   │   ├── flow_graph.py  
│   │   ├── graph_objects.py  
│   │   ├── __init__.py  
│   │   ├── path.py  
│   │   └── weighted_digraph.py  
│   └── transactions  
│       ├── __init__.py  
│       ├── ledger.py  
│       └── transaction.py  
└── tests  
   ├── test_crypto  
   │   ├── __init__.py  
   │   ├── test_hashes.py  
   │   ├── test_keys.py  
   │   └── test_sign_verify.py  
   ├── test_settling  
   │   ├── __init__.py  
   │   ├── test_flow.py  
   │   ├── test_graph.py  
   │   └── test_Path.py  
   └── test_transactions  
       ├── __init__.py  
       ├── mock_db.csv  
       ├── test_ledger.py  
       └── test_transaction.py
```

The interactions of different classes are shown diagrammatically below

## Class Diagrams by Module
### Cryptography (`crypto`) Module

![[Corrected crypto.jpg]]
Key for this, and all following class diagrams: red m indicates a method, yellow f indicates a field. Method signatures are included, with type hints of parameters where relevant to aid in highlighting relationships. Protected variables are denoted through name - they start with an underscore

Above is a class diagram for the `crypto` module.

The primary objective of this module is to handle all the security needed by the application. This mainly involves a consistent way to ensure the validity of transactions, as well as their origin. It also will take care of hashing the passwords of users and groups so that they are not stored in plaintext. This is a more minor role, however.

The `RSAPublicKey` and `RSAPrivateKey` objects are lightweight. Their only field is a dictionary, which stores parts of the key, and an identifier. Since an RSA key needs three components to work (when implemented, as it is here, with modular exponentiation encryption/decryption), each component is stored separately in this dictionary. The `__getattr__` method will be overwritten from the `object` parent class so that it is possible to access parts of the key as one would access an attribute (i.e. for the modulus `RSAPublicKey.n`)

#### How RSA Works

RSA is an asymmetric encryption algorithm which works by taking the plaintext (encoded by an integer), raising it to a very large number, and then taking a modulus of a different very large number
$$c = {p^e}\mod{n} ~~~ (1)$$
where $c$ is the ciphertext, $p$ is the plaintext, $e$ is the public exponent, and $n$ is the modulus. How the these numbers are generated is beyond the scope of this project. To decrypt, a similar relationship is used $$p = c^d \mod{n} ~~~ (2)$$
where $d$ represents the private exponent. 

In public key cryptography, everyone has access to the modulus and public exponent in a key, but it is very important that no one except the owner has access to the private exponent. For this reason, I will ensure that the private exponent is never sent across the network. 

To create digital signatures, the process is similar. First, a hash of the message is generated. This is done by the `Hasher` object above. Then, equation $(2)$ is used, with $c$ representing the hash of the message in integer form, as opposed to the ciphertext. Similarly, $p$ now represents the digital signature instead of the plaintext. The signature is then appended to the message. 

To verify the digital signature, equation $(1)$ is used. If the signature is valid, the output of this equation should be the hash of the message. Thus, one hashes the messages and compares it to the outcome of equation $(1)$. If the two match, then the signature is valid. However, if they don't match, either the message has been tampered with or the signature has been tampered with.

Thus, it is possible to ensure validity, and verify the origin, of messages.

I will implement this exactly in this way, using the Python builtin `pow()` to carry out the modular exponentiation, and the builtin `hashlib`  library to generate hashes. I will, however, be writing my own interface to `hashlib` to add extra functionality, such as ensuring that all hashes that I generate are padded correctly so that the encryption / decryption works as expected. 

I will also implement the loading of the RSA key in PEM format myself, using regexes to filter out only what I need, and package the resulting numbers into keys accordingly


### Debt Simplification (`simplify`) Module
#### Class Diagram
![[corrected_simplify.jpg]]

This is by far the most intricate module, which has complex object-oriented model, complex key data structures, as well as various complex algorithms - both well known and user defined.

The debt simplification module is dedicated to simplifying a graph using the algorithm specified in the analysis section. It does not have any dependencies on any other modules from this project. 

The task of debt simplification is decomposed into four key areas: The flow graph data structure, graph search algorithms, graph flow algorithms, and the assembly of the main simplification interface. 

##### The Flow Graph Data Structure
As I outlined in the project critical path, I wanted to have a basic unweighted digraph data structure, which I could perform breadth first searches (BFS) on before I started to consider flow. To do this, I started with just a `GenericDigraph` class. The graph has only two fields: the `graph`, and the protected field `_backwards_graph`, to aid with the deletion of nodes. 

The graph is effectively represented as an adjacency matrix. I use a dictionary, which maps a node to a list of `edges` ==TODO: add edge to class diagram==. `edge` objects contain a `node` field, which represents the destination node, i.e. where the edge is pointing. 

The base graph then has various bookkeeping methods such as checking if nodes are in the graph, checking if a node is associated a list of edges (and vice versa). You can also add and remove nodes and edges.

I also designed a `neighbours` function to return the neighbours of a node, and a `connected()` function, seeing if a node has any connections in the graph.

I mentioned that the `_backwards_graph` was necessary when it comes to deleting nodes. This is because there must be a way of traversing the graph backwards to find which nodes are pointing to the node that you want to delete. If you do not protect against this, then you will end up with edges pointing nowhere. 

The `_backwards_graph` will be managed every time an edge is added / deleted from the graph. When an edge$(u, v)$ is added to the forwards graph, an edge$(v, u)$ is added to the backwards graph. Then, when deleting a node, all that needs to be done is look at the connections of the given node in the backwards graph, and delete the edges from those nodes in the forwards graph. 

This provided everything necessary to implement first search. I opted to do this recursively. The function signature did not fit on the class diagram, so it is included here
```python
def BFS(  
    *,  # star indicates keyword-only args
 graph: graphs.GenericDigraph,  
 queue: BFSQueue,  
 discovered: disc_map,  
 target: src.simplify.graph_objects.Vertex | None,  
 previous: prev_map,  
 neighbours: Callable,  
 do_to_neighbour: Callable = void,  
) -> prev_map:```

Note: `prev_map`  and `disc_map` are not objects but custom type aliases. They are equivalent to

```python
prev_map = dict[src.simplify.graph_objects.Vertex, src.simplify.graph_objects.Vertex | None
]

disc_map = dict[  
    src.simplify.graph_objects.Vertex, src.simplify.graph_objects.Vertex | bool  
]
```

To do the BFS, I first require a queue data structure. I will implement one myself instead of using a builtin. A BFS queue is interesting, as it should not allow for the same element to be enqueued twice. Thus, the data structure I will create will be an ordered set with only two operations: `enqueue()` and `dequeue()`. 

I also need a data structure to keep track of the nodes that had been previously discovered, and where they had been discovered from. This will be important to be able to reconstruct a path through the graph. For this, I will use a dictionary of type `dict[Vertex, Vertex]`, where keys are vertices in the graph and values are where they were discovered from. 

Since the BFS will end up being used in more than one way (searching through the standard graph, or searching for augmenting paths as part of the maxflow algorithm), it is important to describe to it how to look for neighbours. Since functions are first class objects in Python, this is done by passing in the function as and when it is needed.

Similarly, with do_to_neighbour, different algorithms that use the BFS will require different things to be done to the neighbours of a node. Hence, this is specified when the function is called, as opposed to when it is defined. 

Here is a python mock-up of how I intend to implement the BFS

```python

@staticmethod  
def BFS(  
     *,  
	 graph: graphs.GenericDigraph,  
	 queue: BFSQueue,  
	 discovered: disc_map,  
	 target: src.simplify.graph_objects.Vertex | None,  
	 previous: prev_map,  
	 neighbours: Callable,  
	 do_to_neighbour: Callable = void,  
	) -> prev_map:  
	  
	 # will only happen if no path to node 
	if queue.is_empty():  
	    return previous  
  
    else:  
        # discover next node in queue  
		current = queue.dequeue()  
        discovered[current] = True  
  
	 # check we haven't been fed a standalone node (i.e. no forward or backwards links)  
		 if not graph.connected(current):  
			if not queue:  
                raise SearchError("Cannot traverse a non connected node", current)  
  
		# if discovered target node return prev  
		 if current == target:  
	            return previous  
  
		else:
            # otherwise, continue on  
			# enqueue neighbours, keep track of whose neighbours they are given not already discovered 
			# do passed in function to neighbouring nodes 
			for neighbour in neighbours(current):  
                if not discovered[neighbour.node]:  
                    previous[neighbour.node] = current  
                    queue.enqueue(neighbour.node)  
  
                do_to_neighbour(current, neighbour.node)  
  
            # recursive call on new state  
			 return Path.BFS(  
			    graph=graph,  
				queue=queue,  
				discovered=discovered,  
				target=target,  
				previous=previous,  
			    neighbours=neighbours,  
				do_to_neighbour=do_to_neighbour,  
			 )
```

After I implement the BFS, I will move onto the max-flow algorithm.

This requires an updating the graph data structure, and the edge data structure. To do this, I will inherit from the `BaseGraph` and `Edge` that I will have already designed. 

The key changes to the edges (in a new class `FlowEdge`) will be:
	 1) Edges will need two new fields: `flow: int` and `capacity: int`, where capacity is a non-negative integer, and flow is an integer
	2) Edges will need a new method: `unused_capacity()`	which will return `capacity` -`flow`
	3) Flow graphs contain a residual edge, as discussed in the Analysis phase. This will be accounted for with a field `residual: bool`. Residual edges will be treated as such.
	4) In order to ease transaction integration later, I will also have edges explicitly track their `src` and their destination (`dest`). This will allow me to build a list of transactions just from a list of edges, but will be discussed further later on.
	5) An `__eq__` function is needed, allowing differentiation between residual edges ^[the `__eq__` function in the base `Edge` class was generated by the `@dataclass` decorator. However, this would fail to differentiate residual edges due to the way that `dataclasses` generates special methods]


The key changes to the graph, in the new class `FlowGraph`, will be:
	1) A backwards graph is no longer needed, instead it will be possible to utilise residual edges to traverse the structure the wrong way when deleting nodes
	2) Adding edges now entails adding a residual edge counterpart, as discussed in the Analysis section. Thus, when edges are removed, their residual edge also needs to be removed. Hence, the `add_edge` and `pop_edge` functions need to be overwritten to work with `FlowEdge` objects.
	3) A `flow_neighbour()` method needs to be introduced, as valid neighbours in the max-flow algorithm are any edges with unused capacity. This is different to a valid neighbour in the BFS, which is any forward-pointing non-residual edge. 
	4) A function is also needed to adjust the edges in the flow graph to become an edge with no flow, and only unused capacity remaining. This is added under the identifier `adjust_edges()`
	5) A way of verifying that the settling has resulted in a fair graph, where people owe and are owed the same (net) amount of money as they originally were. This is done with the `net_debt` field, which is a `dict[Vertex, int]`

In the analysis section, I detailed how the Edmonds-Karp max-flow algorithm works. I will implement it exactly as described in the analysis section. All the methods which are involved in finding the max-flow through a flow graph will be contained in the `flow_algorithms.MaxFlow` object. I will decompose the task of finding the max_flow into 5 functions. Their signatures are listed below

```python
class MaxFlow:  
    
    @staticmethod  
	def edmonds_karp(graph: FlowGraph, src: Vertex, sink: Vertex) -> int:  ...
    
    @staticmethod  
	def augmenting_path(graph: FlowGraph, src: Vertex, sink: Vertex) -> list[Vertex]:  ...
	
    @staticmethod  
	def bottleneck(graph: FlowGraph, node_path: list[Vertex]) -> int: ...  
  
    @staticmethod  
	def augment_flow(graph: FlowGraph, node_path: list[Vertex], flow: int) -> None: ...  
	 
	@staticmethod
	def nodes_to_path(graph: FlowGraph, nodes: list[Vertex]) -> list[FlowEdge]:  ...

```

`augmenting_path` makes use of the recursive breadth first search that will have been implemented to find the shortest path through the graph from the source node to the sink node. `nodes_to_path` will be used to convert the list of nodes returned by the BFS function to a path. `bottleneck` will return the bottleneck of a path through the graph, and `augment_flow` will augment the flow of a path, changing the `flow` field in each `FlowEdge`. These are all combined in the  `edmonds_karp` function to return an integer - the maximum flow from the given source node to the given sink node. 

A python mock up of the implementation of the `edmonds_karp` function is given here

```python
def edmonds_karp(graph: FlowGraph, src: Vertex, sink: Vertex) -> int:  
  
    max_flow = 0  
  
	while aug_path := MaxFlow.augmenting_path(graph, src, sink):  
	    bottleneck = MaxFlow.bottleneck(graph, aug_path)  
        max_flow += bottleneck  
  
        MaxFlow.augment_flow(graph, aug_path, bottleneck)  
        # graph.to_dot()  
  
	return max_flow
```


With all the components having been designed, it is possible to integrate the process entirely. The `Simplify` class has one method: `simplify_debt(graph: FlowGraph)`. This combines all of what is above into my user-defined algorithm to simplify the graph as a whole. Again, this algorithm works exactly as laid out in the analysis section. 

For every edge in the graph, a max-flow is run between the nodes at either end of the edge. This changes the state of the graph, as augmenting the flow through the graph has the possibility of changing the flow on each edge / residual edge. 

After the max-flow is run, an edge is added to the clean graph with a weight of the max-flow, and the `adjust_edges()` method is run on the 'initial' graph (initial in inverted commas because, of course, its state will have been changed by the algorithm. Calling it 'initial' just differentiates it from the clean graph that I'm building along the way).  

This process should continue until there are no more edges in the 'initial' graph. 

In pseudocode
```python
for edge(u, v) in graph:  
	if new := maxflow(u, v): 
		clean.add_edge(u, (v, new))
		messy.adjust_edges()
```

Once the simplification has concluded, the net debts of the new graph should be compared with the (cached) net debts of how the graph was initially. These should always be identical, and the simplification process will raise an error if this is not the case, indicating that simplification should be aborted and retried.

### Transaction integration (`transactions`) module
![[corrected_transactions 1.jpg]]

==TODO: add flow graph composition to ledger.Ledger==

The purpose of the `transactions` module is to combine the `crypto`  and `simplify` module,  to allow transactions between people to be created, signed and verified. A `Ledger` object will also be introduced to represent a group of transactions, and with the ability to simplify them, ensuring that they are all verified before doing so. 

Since this module is effectively the assembly through aggregation and composition of the `crypto` and `simplify` modules, it does not have much in the way of complex data structures or algorithms. 

Signatures are stored as bytes inside the transaction object. Time is stored as a `datetime.datetime` object, and keys are stores as `crypto.keys.RSAPublicKey` objects (as per class diagram). 

Ledger's `ledger` field is a list of `transaction` objects. Its `nodes` field is a list of all the people in the ledger, used to generate the flow graph that it creates to simplify transactions. `key_map` keeps track of which key belongs to which user ID. 

The `Transaction` class inherits from the `Signable` class. This happens due to the order in which I intend to implement the project. The `crypto` module comes first, and I need to be able to test signing objects before I have transactions in place. This is also advantageous to me in case I decide to continue this project in the future and want to differentiate between different things that each need signing. 

### Server-side (`server`) module
On a high level, I anticipate the server module to have a class diagram as below
![[Pasted image 20220322205601.png]]

Just showing `schemas` and `models` that I designed to be able to serialise / 

#### API Endpoints and Resources 

A lot of the work of the server is in serialising and deserialising objects / JSON. I will do this using the `marshmallow` library for Python. This requires that schema objects are set up with the same fields as the objects you want to serialise from / deserialise to.

This means that a lot of boilerplate code is needed, so I will not talk to much about that here as it is not particularly interesting, and does not prevent me from having a fully considered design of my problem.

I thought it more important to discuss the resources and endpoints that I would need to serve over my API. My resources are listed in the class diagrams above, and all serve an important purpose.

```python
Group, "/group/<int:id>", "/group"
PrettyTransaction, "/transaction", "/transaction/<string:email>"
User, "/user/<string:email>", "/user"
UserGroupBridge, "/group/<int:id>/<string:email>", "/group/<string:email>"
TransactionSigVerif, "/transaction/auth/<int:id>"
Simplifier, "/simplify/<int:gid>"
Debt, "/user/debt/<string:email>"
GroupDebt, "/user/debt/<string:email>/<int:id>"
```

This shows the `Resource` child classes as shown in the class diagram above with their endpoints. 

A lot of the above resources implement GET and POST, which are self-explanatory by design in most cases (i.e. GET "user/<string:email> will return user data for a given email"). I will discuss certain less obvious resources and enpoints.

`PrettyTransaction` is a transaction object that is intended for being viewed on the front end by a user. It has people saved as emails as opposed to IDs, an association with a group, no keys involved, the time of creation, reference, and verification status. It also has the transaction ID. The POST method of pretty transaction is used to post new transactions to the database. This is because the details entered by the user about new transactions line up exactly with the pretty transaction schema. All processing such as adding public keys and user IDs is done by the server. 

`UserGroupBridge` also warrants discussion. The resource implements POST and GET. POST will add a user to a group, and GET will get all groups associated with a given user. 

`TransactionSigVerif` implements GET and PATCH. GET will verify a transaction, returning copy of verified transaction. PATCH will, upon receiving a signature, check that the signature is valid with data from the database (public key data, etc), and if the signature is valid, the signature will be inserted into the database on the given transaction ID. 


I intend to run the API using `flask` and `flask_restful`; two commonly used Python libraries for such purpose. During testing, I will run the server on localhost as a proof of concept.

#### Database Access
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1040px" viewBox="-0.5 -0.5 1040 791" content="&lt;mxfile host=&quot;drawio-plugin&quot; modified=&quot;2022-03-22T21:58:13.539Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.114 Safari/537.36&quot; etag=&quot;R00JZhRomdPb-NpUh2Gp&quot; version=&quot;15.5.4&quot; type=&quot;embed&quot;&gt;&lt;diagram id=&quot;23iRSUPoRavnBvh4doch&quot; name=&quot;Page-1&quot;&gt;&lt;mxGraphModel dx=&quot;1652&quot; dy=&quot;952&quot; grid=&quot;1&quot; gridSize=&quot;10&quot; guides=&quot;1&quot; tooltips=&quot;1&quot; connect=&quot;1&quot; arrows=&quot;1&quot; fold=&quot;1&quot; page=&quot;1&quot; pageScale=&quot;1&quot; pageWidth=&quot;1169&quot; pageHeight=&quot;827&quot; background=&quot;#DAD2D8&quot; math=&quot;0&quot; shadow=&quot;0&quot;&gt;&lt;root&gt;&lt;mxCell id=&quot;0&quot;/&gt;&lt;mxCell id=&quot;1&quot; parent=&quot;0&quot;/&gt;&lt;mxCell id=&quot;160&quot; value=&quot;groups&quot; style=&quot;shape=table;startSize=30;container=1;collapsible=1;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=1;align=center;resizeLast=1;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;920&quot; y=&quot;379&quot; width=&quot;180&quot; height=&quot;130&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;161&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;160&quot;&gt;&lt;mxGeometry y=&quot;30&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;162&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;161&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;163&quot; value=&quot;id       INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;161&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;164&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;160&quot;&gt;&lt;mxGeometry y=&quot;60&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;165&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;164&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;166&quot; value=&quot;name     TEXT not null&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;164&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;167&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;160&quot;&gt;&lt;mxGeometry y=&quot;90&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;168&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;167&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;169&quot; value=&quot;password TEXT not null&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;167&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;314&quot; style=&quot;edgeStyle=isometricEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;endArrow=ERmany;labelBackgroundColor=#DAD2D8;strokeColor=#A8201A;fontColor=#143642;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;170&quot; target=&quot;255&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;170&quot; value=&quot;keys&quot; style=&quot;shape=table;startSize=30;container=1;collapsible=1;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=1;align=center;resizeLast=1;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;140&quot; y=&quot;65&quot; width=&quot;120&quot; height=&quot;130&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;171&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;170&quot;&gt;&lt;mxGeometry y=&quot;30&quot; width=&quot;120&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;172&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;171&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;173&quot; value=&quot;id INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;171&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;90&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;90&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;174&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;170&quot;&gt;&lt;mxGeometry y=&quot;60&quot; width=&quot;120&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;175&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;174&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;176&quot; value=&quot;n  TEXT&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;174&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;90&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;90&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;177&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;170&quot;&gt;&lt;mxGeometry y=&quot;90&quot; width=&quot;120&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;178&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;177&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;179&quot; value=&quot;e  TEXT&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;177&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;90&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;90&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;203&quot; value=&quot;users&quot; style=&quot;shape=table;startSize=30;container=1;collapsible=1;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=1;align=center;resizeLast=1;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;495&quot; y=&quot;20&quot; width=&quot;180&quot; height=&quot;220&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;204&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;203&quot;&gt;&lt;mxGeometry y=&quot;30&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;205&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;204&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;206&quot; value=&quot;id       INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;204&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;207&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;203&quot;&gt;&lt;mxGeometry y=&quot;60&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;208&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;207&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;209&quot; value=&quot;name     TEXT&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;207&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;210&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;203&quot;&gt;&lt;mxGeometry y=&quot;90&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;211&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;210&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;212&quot; value=&quot;email    TEXT&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;210&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;213&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;203&quot;&gt;&lt;mxGeometry y=&quot;120&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;214&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;213&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;215&quot; value=&quot;password TEXT&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;213&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;216&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;203&quot;&gt;&lt;mxGeometry y=&quot;150&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;217&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;216&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;218&quot; value=&quot;key_id   INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;216&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;219&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;203&quot;&gt;&lt;mxGeometry y=&quot;180&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;220&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;219&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;221&quot; value=&quot;references keys (key_id)&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;219&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;222&quot; value=&quot;group_link&quot; style=&quot;shape=table;startSize=30;container=1;collapsible=1;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=1;align=center;resizeLast=1;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;905&quot; y=&quot;65&quot; width=&quot;210&quot; height=&quot;190&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;223&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;222&quot;&gt;&lt;mxGeometry y=&quot;30&quot; width=&quot;210&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;224&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;223&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;225&quot; value=&quot;id       INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;223&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;180&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;226&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;222&quot;&gt;&lt;mxGeometry y=&quot;60&quot; width=&quot;210&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;227&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;226&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;228&quot; value=&quot;group_id INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;226&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;180&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;229&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;222&quot;&gt;&lt;mxGeometry y=&quot;90&quot; width=&quot;210&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;230&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;229&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;231&quot; value=&quot;references groups (group_id)&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;229&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;180&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;232&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;222&quot;&gt;&lt;mxGeometry y=&quot;120&quot; width=&quot;210&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;233&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;232&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;234&quot; value=&quot;usr_id   INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;232&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;180&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;235&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;222&quot;&gt;&lt;mxGeometry y=&quot;150&quot; width=&quot;210&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;236&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;235&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;237&quot; value=&quot;references users (usr_id)&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;235&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;180&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;238&quot; value=&quot;pairs&quot; style=&quot;shape=table;startSize=30;container=1;collapsible=1;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=1;align=center;resizeLast=1;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;110&quot; y=&quot;319&quot; width=&quot;180&quot; height=&quot;190&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;239&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;238&quot;&gt;&lt;mxGeometry y=&quot;30&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;240&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;239&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;241&quot; value=&quot;id      INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;239&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;242&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;238&quot;&gt;&lt;mxGeometry y=&quot;60&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;243&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;242&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;244&quot; value=&quot;src_id  INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;242&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;245&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;238&quot;&gt;&lt;mxGeometry y=&quot;90&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;246&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;245&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;247&quot; value=&quot;references users (usr_id)&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;245&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;248&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;238&quot;&gt;&lt;mxGeometry y=&quot;120&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;249&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;248&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;250&quot; value=&quot;dest_id INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;248&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;251&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;238&quot;&gt;&lt;mxGeometry y=&quot;150&quot; width=&quot;180&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;252&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;251&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;253&quot; value=&quot;references users (usr_id)&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;251&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;150&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;150&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;254&quot; value=&quot;transactions&quot; style=&quot;shape=table;startSize=30;container=1;collapsible=1;childLayout=tableLayout;fixedRows=1;rowLines=0;fontStyle=1;align=center;resizeLast=1;fillColor=#FAE5C7;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;1&quot;&gt;&lt;mxGeometry x=&quot;460&quot; y=&quot;290&quot; width=&quot;260&quot; height=&quot;520&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;255&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;30&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;256&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;255&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;257&quot; value=&quot;id               INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;255&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;258&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;60&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;259&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;258&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;260&quot; value=&quot;pair_id          INTEGER not null&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;258&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;261&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;90&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;262&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;261&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;263&quot; value=&quot;references pairs&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;261&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;264&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;120&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;265&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;264&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;266&quot; value=&quot;group_id         INTEGER not null&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;264&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;267&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;150&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;268&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;267&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;269&quot; value=&quot;references groups&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;267&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;270&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;180&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;271&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;270&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;272&quot; value=&quot;amount           INTEGER&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;270&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;273&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;210&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;274&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;273&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;275&quot; value=&quot;src_key          INTEGER not null&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;273&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;276&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;240&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;277&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;276&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;278&quot; value=&quot;references keys&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;276&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;279&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;270&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;280&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;279&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;281&quot; value=&quot;dest_key         INTEGER not null&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;279&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;282&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;300&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;283&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;282&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;284&quot; value=&quot;references keys&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;282&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;285&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;330&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;286&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;285&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;287&quot; value=&quot;reference        TEXT&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;285&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;288&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;360&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;289&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;288&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;290&quot; value=&quot;time_of_creation TEXT&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;288&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;291&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;390&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;292&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;291&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;293&quot; value=&quot;src_sig          TEXT    default ''&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;291&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;294&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;420&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;295&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;294&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;296&quot; value=&quot;dest_sig         TEXT    default ''&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;294&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;297&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;450&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;298&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;297&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;299&quot; value=&quot;src_settled      INTEGER default 0 not null&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;297&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;300&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;collapsible=0;dropTarget=0;pointerEvents=0;fillColor=none;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;top=0;left=0;right=0;bottom=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;254&quot;&gt;&lt;mxGeometry y=&quot;480&quot; width=&quot;260&quot; height=&quot;30&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;301&quot; value=&quot;&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;300&quot;&gt;&lt;mxGeometry width=&quot;30&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;30&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;302&quot; value=&quot;dest_settled     INTEGER default 0 not null&quot; style=&quot;shape=partialRectangle;overflow=hidden;connectable=0;fillColor=none;top=0;left=0;bottom=0;right=0;align=left;spacingLeft=6;strokeColor=#0F8B8D;fontColor=#143642;&quot; vertex=&quot;1&quot; parent=&quot;300&quot;&gt;&lt;mxGeometry x=&quot;30&quot; width=&quot;230&quot; height=&quot;30&quot; as=&quot;geometry&quot;&gt;&lt;mxRectangle width=&quot;230&quot; height=&quot;30&quot; as=&quot;alternateBounds&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;306&quot; value=&quot;&quot; style=&quot;fontSize=12;html=1;endArrow=ERmany;rounded=0;edgeStyle=orthogonalEdgeStyle;elbow=vertical;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=#DAD2D8;strokeColor=#A8201A;fontColor=#143642;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;161&quot; target=&quot;226&quot;&gt;&lt;mxGeometry width=&quot;100&quot; height=&quot;100&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;1070&quot; y=&quot;520&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;860&quot; y=&quot;640&quot; as=&quot;targetPoint&quot;/&gt;&lt;Array as=&quot;points&quot;&gt;&lt;mxPoint x=&quot;1140&quot; y=&quot;424&quot;/&gt;&lt;mxPoint x=&quot;1140&quot; y=&quot;140&quot;/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;307&quot; value=&quot;&quot; style=&quot;edgeStyle=isometricEdgeStyle;fontSize=12;html=1;endArrow=ERmany;rounded=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;labelBackgroundColor=#DAD2D8;strokeColor=#A8201A;fontColor=#143642;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;223&quot; target=&quot;204&quot;&gt;&lt;mxGeometry width=&quot;100&quot; height=&quot;100&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;840&quot; y=&quot;180&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;820&quot; y=&quot;90&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;309&quot; value=&quot;&quot; style=&quot;fontSize=12;html=1;endArrow=ERmany;rounded=0;edgeStyle=isometricEdgeStyle;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1.018;entryY=-0.135;entryDx=0;entryDy=0;entryPerimeter=0;labelBackgroundColor=#DAD2D8;strokeColor=#A8201A;fontColor=#143642;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;204&quot; target=&quot;174&quot;&gt;&lt;mxGeometry width=&quot;100&quot; height=&quot;100&quot; relative=&quot;1&quot; as=&quot;geometry&quot;&gt;&lt;mxPoint x=&quot;340&quot; y=&quot;319&quot; as=&quot;sourcePoint&quot;/&gt;&lt;mxPoint x=&quot;355&quot; y=&quot;35&quot; as=&quot;targetPoint&quot;/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;313&quot; style=&quot;edgeStyle=isometricEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;endArrow=ERmany;labelBackgroundColor=#DAD2D8;strokeColor=#A8201A;fontColor=#143642;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;242&quot; target=&quot;258&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;mxCell id=&quot;315&quot; style=&quot;edgeStyle=isometricEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontSize=12;endArrow=ERmany;labelBackgroundColor=#DAD2D8;strokeColor=#A8201A;fontColor=#143642;&quot; edge=&quot;1&quot; parent=&quot;1&quot; source=&quot;164&quot; target=&quot;264&quot;&gt;&lt;mxGeometry relative=&quot;1&quot; as=&quot;geometry&quot;/&gt;&lt;/mxCell&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://viewer.diagrams.net/?client=1&amp;page=0&amp;edit=_blank');}}})(this);" style="cursor:pointer;max-width:100%;max-height:791px;"><defs><clipPath id="mx-clip-846-389-144-30-0"><rect x="846" y="389" width="144" height="30"/></clipPath><clipPath id="mx-clip-846-419-144-30-0"><rect x="846" y="419" width="144" height="30"/></clipPath><clipPath id="mx-clip-846-449-144-30-0"><rect x="846" y="449" width="144" height="30"/></clipPath><clipPath id="mx-clip-66-75-84-30-0"><rect x="66" y="75" width="84" height="30"/></clipPath><clipPath id="mx-clip-66-105-84-30-0"><rect x="66" y="105" width="84" height="30"/></clipPath><clipPath id="mx-clip-66-135-84-30-0"><rect x="66" y="135" width="84" height="30"/></clipPath><clipPath id="mx-clip-421-30-144-30-0"><rect x="421" y="30" width="144" height="30"/></clipPath><clipPath id="mx-clip-421-60-144-30-0"><rect x="421" y="60" width="144" height="30"/></clipPath><clipPath id="mx-clip-421-90-144-30-0"><rect x="421" y="90" width="144" height="30"/></clipPath><clipPath id="mx-clip-421-120-144-30-0"><rect x="421" y="120" width="144" height="30"/></clipPath><clipPath id="mx-clip-421-150-144-30-0"><rect x="421" y="150" width="144" height="30"/></clipPath><clipPath id="mx-clip-421-180-144-30-0"><rect x="421" y="180" width="144" height="30"/></clipPath><clipPath id="mx-clip-831-75-174-30-0"><rect x="831" y="75" width="174" height="30"/></clipPath><clipPath id="mx-clip-831-105-174-30-0"><rect x="831" y="105" width="174" height="30"/></clipPath><clipPath id="mx-clip-831-135-174-30-0"><rect x="831" y="135" width="174" height="30"/></clipPath><clipPath id="mx-clip-831-165-174-30-0"><rect x="831" y="165" width="174" height="30"/></clipPath><clipPath id="mx-clip-831-195-174-30-0"><rect x="831" y="195" width="174" height="30"/></clipPath><clipPath id="mx-clip-36-329-144-30-0"><rect x="36" y="329" width="144" height="30"/></clipPath><clipPath id="mx-clip-36-359-144-30-0"><rect x="36" y="359" width="144" height="30"/></clipPath><clipPath id="mx-clip-36-389-144-30-0"><rect x="36" y="389" width="144" height="30"/></clipPath><clipPath id="mx-clip-36-419-144-30-0"><rect x="36" y="419" width="144" height="30"/></clipPath><clipPath id="mx-clip-36-449-144-30-0"><rect x="36" y="449" width="144" height="30"/></clipPath><clipPath id="mx-clip-386-300-224-30-0"><rect x="386" y="300" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-330-224-30-0"><rect x="386" y="330" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-360-224-30-0"><rect x="386" y="360" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-390-224-30-0"><rect x="386" y="390" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-420-224-30-0"><rect x="386" y="420" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-450-224-30-0"><rect x="386" y="450" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-480-224-30-0"><rect x="386" y="480" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-510-224-30-0"><rect x="386" y="510" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-540-224-30-0"><rect x="386" y="540" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-570-224-30-0"><rect x="386" y="570" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-600-224-30-0"><rect x="386" y="600" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-630-224-30-0"><rect x="386" y="630" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-660-224-30-0"><rect x="386" y="660" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-690-224-30-0"><rect x="386" y="690" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-720-224-30-0"><rect x="386" y="720" width="224" height="30"/></clipPath><clipPath id="mx-clip-386-750-224-30-0"><rect x="386" y="750" width="224" height="30"/></clipPath></defs><g><path d="M 810 389 L 810 359 L 990 359 L 990 389" fill="#fae5c7" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="all"/><path d="M 810 389 L 810 489 L 990 489 L 990 389" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 810 389 L 990 389" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 389 L 840 489" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="899.5" y="378.5">groups</text></g><path d="M 810 389 M 990 389 M 990 419 M 810 419" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 810 389 M 840 389 M 840 419 M 810 419" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 389 M 990 389 M 990 419 M 840 419" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-846-389-144-30-0)" font-size="12px"><text x="847.5" y="408.5">id       INTEGER</text></g><path d="M 810 419 M 990 419 M 990 449 M 810 449" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 810 419 M 840 419 M 840 449 M 810 449" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 419 M 990 419 M 990 449 M 840 449" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-846-419-144-30-0)" font-size="12px"><text x="847.5" y="438.5">name     TEXT not null</text></g><path d="M 810 449 M 990 449 M 990 479 M 810 479" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 810 449 M 840 449 M 840 479 M 810 479" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 840 449 M 990 449 M 990 479 M 840 479" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-846-449-144-30-0)" font-size="12px"><text x="847.5" y="468.5">password TEXT not null</text></g><path d="M 150 175 L 139.38 181.13 L 250 245 L 360.62 308.87 L 350 315" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/><path d="M 352 318.46 L 356.93 311 L 348 311.54" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 75 L 30 45 L 150 45 L 150 75" fill="#fae5c7" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 75 L 30 175 L 150 175 L 150 75" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 75 L 150 75" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 60 75 L 60 175" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="89.5" y="64.5">keys</text></g><path d="M 30 75 M 150 75 M 150 105 M 30 105" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 75 M 60 75 M 60 105 M 30 105" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 60 75 M 150 75 M 150 105 M 60 105" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-66-75-84-30-0)" font-size="12px"><text x="67.5" y="94.5">id INTEGER</text></g><path d="M 30 105 M 150 105 M 150 135 M 30 135" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 105 M 60 105 M 60 135 M 30 135" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 60 105 M 150 105 M 150 135 M 60 135" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-66-105-84-30-0)" font-size="12px"><text x="67.5" y="124.5">n  TEXT</text></g><path d="M 30 135 M 150 135 M 150 165 M 30 165" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 135 M 60 135 M 60 165 M 30 165" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 60 135 M 150 135 M 150 165 M 60 165" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-66-135-84-30-0)" font-size="12px"><text x="67.5" y="154.5">e  TEXT</text></g><path d="M 385 30 L 385 0 L 565 0 L 565 30" fill="#fae5c7" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 385 30 L 385 220 L 565 220 L 565 30" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 385 30 L 565 30" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 415 30 L 415 220" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="474.5" y="19.5">users</text></g><path d="M 385 30 M 565 30 M 565 60 M 385 60" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 385 30 M 415 30 M 415 60 M 385 60" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 415 30 M 565 30 M 565 60 M 415 60" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-421-30-144-30-0)" font-size="12px"><text x="422.5" y="49.5">id       INTEGER</text></g><path d="M 385 60 M 565 60 M 565 90 M 385 90" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 385 60 M 415 60 M 415 90 M 385 90" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 415 60 M 565 60 M 565 90 M 415 90" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-421-60-144-30-0)" font-size="12px"><text x="422.5" y="79.5">name     TEXT</text></g><path d="M 385 90 M 565 90 M 565 120 M 385 120" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 385 90 M 415 90 M 415 120 M 385 120" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 415 90 M 565 90 M 565 120 M 415 120" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-421-90-144-30-0)" font-size="12px"><text x="422.5" y="109.5">email    TEXT</text></g><path d="M 385 120 M 565 120 M 565 150 M 385 150" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 385 120 M 415 120 M 415 150 M 385 150" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 415 120 M 565 120 M 565 150 M 415 150" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-421-120-144-30-0)" font-size="12px"><text x="422.5" y="139.5">password TEXT</text></g><path d="M 385 150 M 565 150 M 565 180 M 385 180" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 385 150 M 415 150 M 415 180 M 385 180" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 415 150 M 565 150 M 565 180 M 415 180" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-421-150-144-30-0)" font-size="12px"><text x="422.5" y="169.5">key_id   INTEGER</text></g><path d="M 385 180 M 565 180 M 565 210 M 385 210" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 385 180 M 415 180 M 415 210 M 385 210" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 415 180 M 565 180 M 565 210 M 415 210" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-421-180-144-30-0)" font-size="12px"><text x="422.5" y="199.5">references keys (key_id)</text></g><path d="M 795 75 L 795 45 L 1005 45 L 1005 75" fill="#fae5c7" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 795 75 L 795 235 L 1005 235 L 1005 75" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 795 75 L 1005 75" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 825 75 L 825 235" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="899.5" y="64.5">group_link</text></g><path d="M 795 75 M 1005 75 M 1005 105 M 795 105" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 795 75 M 825 75 M 825 105 M 795 105" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 825 75 M 1005 75 M 1005 105 M 825 105" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-831-75-174-30-0)" font-size="12px"><text x="832.5" y="94.5">id       INTEGER</text></g><path d="M 795 105 M 1005 105 M 1005 135 M 795 135" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 795 105 M 825 105 M 825 135 M 795 135" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 825 105 M 1005 105 M 1005 135 M 825 135" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-831-105-174-30-0)" font-size="12px"><text x="832.5" y="124.5">group_id INTEGER</text></g><path d="M 795 135 M 1005 135 M 1005 165 M 795 165" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 795 135 M 825 135 M 825 165 M 795 165" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 825 135 M 1005 135 M 1005 165 M 825 165" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-831-135-174-30-0)" font-size="12px"><text x="832.5" y="154.5">references groups (group_id)</text></g><path d="M 795 165 M 1005 165 M 1005 195 M 795 195" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 795 165 M 825 165 M 825 195 M 795 195" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 825 165 M 1005 165 M 1005 195 M 825 195" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-831-165-174-30-0)" font-size="12px"><text x="832.5" y="184.5">usr_id   INTEGER</text></g><path d="M 795 195 M 1005 195 M 1005 225 M 795 225" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 795 195 M 825 195 M 825 225 M 795 225" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 825 195 M 1005 195 M 1005 225 M 825 225" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-831-195-174-30-0)" font-size="12px"><text x="832.5" y="214.5">references users (usr_id)</text></g><path d="M 0 329 L 0 299 L 180 299 L 180 329" fill="#fae5c7" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 329 L 0 489 L 180 489 L 180 329" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 329 L 180 329" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 329 L 30 489" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="89.5" y="318.5">pairs</text></g><path d="M 0 329 M 180 329 M 180 359 M 0 359" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 329 M 30 329 M 30 359 M 0 359" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 329 M 180 329 M 180 359 M 30 359" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-36-329-144-30-0)" font-size="12px"><text x="37.5" y="348.5">id      INTEGER</text></g><path d="M 0 359 M 180 359 M 180 389 M 0 389" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 359 M 30 359 M 30 389 M 0 389" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 359 M 180 359 M 180 389 M 30 389" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-36-359-144-30-0)" font-size="12px"><text x="37.5" y="378.5">src_id  INTEGER</text></g><path d="M 0 389 M 180 389 M 180 419 M 0 419" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 389 M 30 389 M 30 419 M 0 419" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 389 M 180 389 M 180 419 M 30 419" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-36-389-144-30-0)" font-size="12px"><text x="37.5" y="408.5">references users (usr_id)</text></g><path d="M 0 419 M 180 419 M 180 449 M 0 449" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 419 M 30 419 M 30 449 M 0 449" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 419 M 180 419 M 180 449 M 30 449" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-36-419-144-30-0)" font-size="12px"><text x="37.5" y="438.5">dest_id INTEGER</text></g><path d="M 0 449 M 180 449 M 180 479 M 0 479" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 0 449 M 30 449 M 30 479 M 0 479" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 30 449 M 180 449 M 180 479 M 30 479" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-36-449-144-30-0)" font-size="12px"><text x="37.5" y="468.5">references users (usr_id)</text></g><path d="M 350 300 L 350 270 L 610 270 L 610 300" fill="#fae5c7" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 300 L 350 790 L 610 790 L 610 300" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 300 L 610 300" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 300 L 380 790" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" font-weight="bold" pointer-events="none" text-anchor="middle" font-size="12px"><text x="479.5" y="289.5">transactions</text></g><path d="M 350 300 M 610 300 M 610 330 M 350 330" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 300 M 380 300 M 380 330 M 350 330" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 300 M 610 300 M 610 330 M 380 330" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-300-224-30-0)" font-size="12px"><text x="387.5" y="319.5">id               INTEGER</text></g><path d="M 350 330 M 610 330 M 610 360 M 350 360" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 330 M 380 330 M 380 360 M 350 360" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 330 M 610 330 M 610 360 M 380 360" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-330-224-30-0)" font-size="12px"><text x="387.5" y="349.5">pair_id          INTEGER not null</text></g><path d="M 350 360 M 610 360 M 610 390 M 350 390" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 360 M 380 360 M 380 390 M 350 390" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 360 M 610 360 M 610 390 M 380 390" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-360-224-30-0)" font-size="12px"><text x="387.5" y="379.5">references pairs</text></g><path d="M 350 390 M 610 390 M 610 420 M 350 420" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 390 M 380 390 M 380 420 M 350 420" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 390 M 610 390 M 610 420 M 380 420" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-390-224-30-0)" font-size="12px"><text x="387.5" y="409.5">group_id         INTEGER not null</text></g><path d="M 350 420 M 610 420 M 610 450 M 350 450" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 420 M 380 420 M 380 450 M 350 450" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 420 M 610 420 M 610 450 M 380 450" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-420-224-30-0)" font-size="12px"><text x="387.5" y="439.5">references groups</text></g><path d="M 350 450 M 610 450 M 610 480 M 350 480" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 450 M 380 450 M 380 480 M 350 480" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 450 M 610 450 M 610 480 M 380 480" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-450-224-30-0)" font-size="12px"><text x="387.5" y="469.5">amount           INTEGER</text></g><path d="M 350 480 M 610 480 M 610 510 M 350 510" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 480 M 380 480 M 380 510 M 350 510" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 480 M 610 480 M 610 510 M 380 510" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-480-224-30-0)" font-size="12px"><text x="387.5" y="499.5">src_key          INTEGER not null</text></g><path d="M 350 510 M 610 510 M 610 540 M 350 540" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 510 M 380 510 M 380 540 M 350 540" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 510 M 610 510 M 610 540 M 380 540" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-510-224-30-0)" font-size="12px"><text x="387.5" y="529.5">references keys</text></g><path d="M 350 540 M 610 540 M 610 570 M 350 570" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 540 M 380 540 M 380 570 M 350 570" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 540 M 610 540 M 610 570 M 380 570" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-540-224-30-0)" font-size="12px"><text x="387.5" y="559.5">dest_key         INTEGER not null</text></g><path d="M 350 570 M 610 570 M 610 600 M 350 600" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 570 M 380 570 M 380 600 M 350 600" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 570 M 610 570 M 610 600 M 380 600" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-570-224-30-0)" font-size="12px"><text x="387.5" y="589.5">references keys</text></g><path d="M 350 600 M 610 600 M 610 630 M 350 630" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 600 M 380 600 M 380 630 M 350 630" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 600 M 610 600 M 610 630 M 380 630" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-600-224-30-0)" font-size="12px"><text x="387.5" y="619.5">reference        TEXT</text></g><path d="M 350 630 M 610 630 M 610 660 M 350 660" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 630 M 380 630 M 380 660 M 350 660" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 630 M 610 630 M 610 660 M 380 660" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-630-224-30-0)" font-size="12px"><text x="387.5" y="649.5">time_of_creation TEXT</text></g><path d="M 350 660 M 610 660 M 610 690 M 350 690" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 660 M 380 660 M 380 690 M 350 690" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 660 M 610 660 M 610 690 M 380 690" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-660-224-30-0)" font-size="12px"><text x="387.5" y="679.5">src_sig          TEXT    default ''</text></g><path d="M 350 690 M 610 690 M 610 720 M 350 720" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 690 M 380 690 M 380 720 M 350 720" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 690 M 610 690 M 610 720 M 380 720" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-690-224-30-0)" font-size="12px"><text x="387.5" y="709.5">dest_sig         TEXT    default ''</text></g><path d="M 350 720 M 610 720 M 610 750 M 350 750" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 720 M 380 720 M 380 750 M 350 750" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 720 M 610 720 M 610 750 M 380 750" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-720-224-30-0)" font-size="12px"><text x="387.5" y="739.5">src_settled      INTEGER default 0 not null</text></g><path d="M 350 750 M 610 750 M 610 780 M 350 780" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 350 750 M 380 750 M 380 780 M 350 780" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><path d="M 380 750 M 610 750 M 610 780 M 380 780" fill="none" stroke="#0f8b8d" stroke-miterlimit="10" pointer-events="none"/><g fill="#143642" font-family="Helvetica" pointer-events="none" clip-path="url(#mx-clip-386-750-224-30-0)" font-size="12px"><text x="387.5" y="769.5">dest_settled     INTEGER default 0 not null</text></g><path d="M 990 404 L 1030 404 L 1030 120 L 1005 120" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/><path d="M 1005 124 L 1013 120 L 1005 116" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/><path d="M 795 90 L 756.99 111.95 L 680 67.5 L 603.01 23.05 L 565 45" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/><path d="M 567 48.46 L 571.93 41 L 563 41.54" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/><path d="M 385 45 L 302.56 92.6 L 268.58 72.97 L 234.6 53.35 L 152.16 100.95" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/><path d="M 154.16 104.41 L 159.09 96.95 L 150.16 97.49" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/><path d="M 180 374 L 235.06 342.21 L 265 359.5 L 294.94 376.79 L 350 345" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/><path d="M 348 341.54 L 343.07 349 L 352 348.46" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/><path d="M 810 434 L 772.56 455.62 L 710 419.5 L 647.44 383.38 L 610 405" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/><path d="M 612 408.46 L 616.93 401 L 608 401.54" fill="none" stroke="#a8201a" stroke-miterlimit="10" pointer-events="none"/></g></svg>


Here is the same database's DDL

```sqlite
create table groups
(
    id       INTEGER
        primary key autoincrement,
    name     TEXT not null,
    password TEXT not null
);

create unique index groups_group_id_uindex
    on groups (id);

create table keys
(
    id INTEGER
        primary key autoincrement,
    n  TEXT,
    e  TEXT
);

create table sqlite_master
(
    type     text,
    name     text,
    tbl_name text,
    rootpage int,
    sql      text
);

create table sqlite_sequence
(
    name,
    seq
);

create table users
(
    id       INTEGER
        primary key autoincrement,
    name     TEXT,
    email    TEXT,
    password TEXT,
    key_id   INTEGER
        references keys (key_id)
);

create table group_link
(
    id       INTEGER
        primary key autoincrement,
    group_id INTEGER
        references groups (group_id),
    usr_id   INTEGER
        references users (usr_id)
);

create table pairs
(
    id      INTEGER
        primary key autoincrement,
    src_id  INTEGER
        references users (usr_id),
    dest_id INTEGER
        references users (usr_id)
);

create unique index uniq_pair
    on pairs (src_id, dest_id);

create table transactions
(
    id               INTEGER
        primary key autoincrement,
    pair_id          INTEGER not null
        references pairs,
    group_id         INTEGER not null
        references groups,
    amount           INTEGER,
    src_key          INTEGER not null
        references keys,
    dest_key         INTEGER not null
        references keys,
    reference        TEXT,
    time_of_creation TEXT,
    src_sig          TEXT    default '',
    dest_sig         TEXT    default '',
    src_settled      INTEGER default 0 not null,
    dest_settled     INTEGER default 0 not null
);


```

The server module will handle all interactions with the sqlite3 database (entity relationship diagram below)


Since this is a fairly complex relational database system, I put some thought into the queries that I would use to select data. Below is an example of such a query.

```sqlite

SELECT transactions.id, group_id, amount, reference, time_of_creation, u2.email, verified 
FROM transactions  
INNER JOIN pairs p on p.id = transactions.pair_id 
INNER JOIN users u on u.id = p.src_id 
INNER JOIN users u2 on u2.id = p.dest_id 
WHERE transactions.settled = 0 AND u.email = ?;
   
SELECT transactions.id, group_id, amount, reference, time_of_creation, u2.email, verified 
FROM transactions  
INNER JOIN pairs p on p.id = transactions.pair_id 
INNER JOIN users u on u.id = p.dest_id 
INNER JOIN users u2 on u2.id = p.src_id 
WHERE transactions.settled = 0 AND u.email = ?;

```

These are two separate queries intended to retrieve two separate things from the database - they are to return rows of data that can be used to build a `models.PrettyTransaction` object. In the first case, data is fetched where the user's email provided is the source of the transaction - i.e. it will retrieve a user's outgoing transactions. The second query returns the transactions in which the user is owed money. 

These statements are not group specific, but will return all transactions that have not been settled. 

An important thing to keep in mind when designing my SQL statements is ensuring data integrity. Thus, I will take care to protect against adding duplicate records, and ensure that data is consistent. For instance, a transaction should not be able to be signed by a user who is not part of that transaction

#### Server Logic
The server is, of course, more than just an API and database access - it will carry out the vast majority of the data processing. In that sense, my client server models is effectively thick server, thin client.

As with the endpoints, a lot of the logic is minimal and self explanatory by design. Thus, here I will discuss two of the more intensive processes that the server can be asked to do. 

##### Signing a transaction
Below is a swim lane diagram to aid my explanation of how a transaction is signed

![[Sign Flow Diagram.png]]

This diagram shows the various processes that should run as a result of the user asking to sign a transaction. 

All client-server communication is done with JavaScript Object Notation (JSON) for this project.

For clarity, the diagram omits an argument to `sign`; `sign` also requires the user's email so that data can be kept in order in the database (more on this when the database design is discussed).

Here, 4 of the 5 modules are used. The `client` and `server` modules are clearly shown. The `transaction` module is used when constructing, signing and verifying transactions.

The `crypto` module is used in the `transaction` object, and provides the methods to be able to sign and verify the `transaction` object. It is also used to load keys on the client side.

##### Simplifying a group of transactions

![[Simplify Flow Diagram.png]]

This is in many ways the most important process in the project. Upon being asked to settle a group, every part of the project will be used. 

In the implementation, all I will need to do is query the database with a query such as 
```sqlite
SELECT transactions.id, src_id, dest_id, src_sig, dest_sig,  
 amount, reference, time_of_creation, group_id, k.e, k.n,  
 k2.e, k2.n  
FROM transactions  
JOIN keys k on k.id = transactions.src_key  
JOIN keys k2 on k2.id = transactions.dest_key  
JOIN pairs p on p.id = transactions.pair_id  
WHERE transactions.group_id = ?;
```

to get all of the data needed to build a `transaction.ledger.Ledger` of `transaction.transaction.Transaction` objects. Once those objects are build, all that needs to happen is I write `ledger.simplify_ledger()`. This will then invoke all of the logic discussed in the `simplify` module section, as well as handle the verification of signatures, as discussed in the `crypto` module section.  This will be wrapped in a `try: ... except: ...` clause, and any errors will be returned with a 40X error code and reason for failure.

### Client-side (`client`) module
As aforementioned, the client is a thin client, meaning it does not have many responsibilities in the overarching structure of the program. Thus, this section will mainly be examples and mock ups of the elements of Human-Computer Interaction.

To show this, I will provide screenshots of an output to STDOUT of how I would like certain outputs to look. Here I will provide mainly ancillary outputs. and how I would like certain prompts to appear upon a command being run

* Upon a user registering a new account
![[Pasted image 20220320220345.png]]


The program should prompt the user with the details that they need to enter to create their account. Password entering should be hidden, as it is commonly in CLIs.
Passwords should be confirmed through asking for confirmation, as above. If the passwords entered do not match, the program should ask to user re enter thir password. The program should report a failure if an invalid path to a key is given, as here

* Upon creating & joining a group
![[Pasted image 20220320221811.png]]

* An example of how a failed attempt at an action should look is
![[Pasted image 20220320222431.png]]

+ Finally, viewing existing transactions should look like this

![[Pasted image 20220320223545.png]]

This is not an exhaustive list, but is the general blueprint of how interaction should look. Every possible actions will end up looking like one of these above templates, be it something like simplifying or signing a transaction, which will just result in a confirmation, or seeing all of the open transactions in the group, which will look the same as seeing all of your open transactions. 

The full list of commands that I would like the user to be able to enter is below

```
Usage: settle register [OPTIONS]  

	Registers a new user

Options:  
 --name TEXT  
 --email TEXT  
 --password TEXT  
 --pub_key PATH  
 --help           Show this message and exit.
```
---
```
Usage: settle whois [OPTIONS] EMAIL  

	Returns a user's public key info given their email

Options:  
 --help  Show this message and exit.
```
---
```
Usage: settle show [OPTIONS]  
  
 Shows all of your open transactions / groups along with IDs  
  
Options:  
 --email TEXT  
 -t, --transactions  
 -g, --groups  
 --help              Show this message and exit.

```
---
```
Usage: settle sign [OPTIONS] TRANSACTION_ID KEY_PATH  
  
 Signs a transaction  
  
Options:  
 --email TEXT  
 --password TEXT  
 --help           Show this message and exit.

```
---
```
Usage: settle verify [OPTIONS]  
  
 Will verify a transaction if given a transaction ID or an entire group if  
 given a group ID  
  
Options:  
 -t, --transactions  
 -g, --groups  
 --help              Show this message and exit.
```
---
```
Usage: settle new-group [OPTIONS]  

	Creates a new group

Options:  
 --name TEXT  
 --password TEXT  
 --help           Show this message and exit.
 ```
---
```
Usage: settle join [OPTIONS] GROUP_ID  
  
 Joins a group given an ID  
  
Options:  
 --email TEXT  
 --password TEXT  
 --group_password TEXT  
 --help                 Show this message and exit.
```
---
```
Usage: settle simplify [OPTIONS] GROUP_ID  
  
 Simplifies debt of a group  
  
Options:  
 --password TEXT  
 --help           Show this message and exit.
```
---
```
Usage: settle new-transaction [OPTIONS]  
  
 Generates a new transaction  
  
Options:  
 --dest_email TEXT  
 --amount TEXT  
 --reference TEXT  
 -g, --group TEXT  
 --email TEXT  
 --password TEXT  
 --help             Show this message and exit.
```

This text should also be displayed when the `--help` flag is called after any of the commands.  

### Error Handling in the CLI
It is important that the user never experiences an unsightly looking crash message when an expected error in the program happens. For instance, if when registering for an account the user provides a path to a file that doesn't exist instead of their private key, they should not see the program crash. Instead, the program should prompt them that it could not complete the registration, because no file exists in that location. A mock up would look something like this.
![[Pasted image 20220322220744.png]]
